
<div *ngIf="Edit">
    <div  class="row">
        <div  class="col-md-12">
            <div  class="card">
                <div  class="card-header">
                    <h3  class="mb-0 card-title">Edit Holiday</h3>
                </div>
                <div  class="card-body">
                    <div  class="row">
                        <div class="col-md-3" >
                            <label class="form-label">Select Organization</label>
                            <ng-multiselect-dropdown [placeholder]="'All Organizations'" [(ngModel)]="selectedOrganization" [data]="OrgList"
                                [settings]="orgSettings" (onSelect)="onselectedOrg($event)"
                                (onDeSelect)="onDeselectedOrg($event)">
                            </ng-multiselect-dropdown>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group" style="margin-bottom: 20px;">
                                <label class="form-label">
                                    Branch <span class="text-danger">*</span>
                                </label>
                        
                                <ng-multiselect-dropdown 
                                    [placeholder]="'Select Branch'" 
                                    [(ngModel)]="selectedBranch" 
                                    [data]="Columns" 
                                    [settings]="BranchSettings"
                                    [ngClass]="{'is-invalid': selectedBranch.length === 0 && isSubmit}"
                                    (onSelect)="newonselectedBranchesChange($event)"
                                    (onDeSelect)="newonDeselectedBranchesChange($event)">
                                </ng-multiselect-dropdown>
                        
                                <div *ngIf="selectedBranch.length === 0 && isSubmit" class="invalid-feedback">
                                    <span>Branch selection is required.</span>
                                </div>
                            </div>
                        </div>
                        <div  class="col-md-3">
                            <div  class="form-group"><label 
                                    class="form-label">Start Date</label><input
                                    name="example-text-input" class="form-control" id="StartDate" name="StartDate" type="date"
                                    placeholder="Designation Name" 
                                    [ngClass]="{'is-invalid': !StartDate.valid && (StartDate.dirty || StartDate.touched || isSubmit)}"
                                    #StartDate="ngModel" required  StartDate [(ngModel)]="formInput.StartDate">
                                    <label *ngIf="!StartDate.valid && (StartDate.dirty || StartDate.touched || isSubmit)"
                                    id="validation-link-error"
                                    class="error jquery-validation-error small form-text invalid-feedback">Please Enter StartDate</label></div>
</div>    

<div  class="col-md-3">
    <div  class="form-group"><label 
            class="form-label">End Date</label><input
            name="example-text-input" class="form-control" id="EndDate" name="EndDate" type="date"
            placeholder="Designation Name" 
            [ngClass]="{'is-invalid': !EndDate.valid && (EndDate.dirty || EndDate.touched || isSubmit)}"
            #EndDate="ngModel" required  EndDate [(ngModel)]="formInput.EndDate">
            <label *ngIf="!EndDate.valid && (EndDate.dirty || EndDate.touched || isSubmit)"
            id="validation-link-error"
            class="error jquery-validation-error small form-text invalid-feedback">Please Enter EndDate</label></div>
</div> 

<div  class="col-md-3">
    <div  class="form-group"><label 
            class="form-label">Title</label><input
            name="example-text-input" class="form-control" id="Title" name="Title" type="text"
            placeholder="Designation Name" 
            [ngClass]="{'is-invalid': !Title.valid && (Title.dirty || Title.touched || isSubmit)}"
            #Title="ngModel" required onkeydown="return /^[a-zA-Z][a-zA-Z\s]*$/.test(this.value + event.key)" Title [(ngModel)]="formInput.Title">
            <label *ngIf="!Title.valid && (Title.dirty || Title.touched || isSubmit)"
            id="validation-link-error"
            class="error jquery-validation-error small form-text invalid-feedback">Please Enter Title</label></div>
</div> 

<div  class="col-md-4">
    <div  class="form-group"><label 
            class="form-label">Description / Comment</label><textarea
            name="example-text-input" class="form-control" id="Description" name="Description" type="text"
            placeholder="Designation Name"  rows="3"
            [ngClass]="{'is-invalid': !Description.valid && (Description.dirty || Description.touched || isSubmit)}"
            #Description="ngModel" required onkeydown="return /^[a-zA-Z][a-zA-Z\s]*$/.test(this.value + event.key)"  Description [(ngModel)]="formInput.Description"></textarea>
            <label *ngIf="!Description.valid && (Description.dirty || Description.touched || isSubmit)"
            id="validation-link-error"
            class="error jquery-validation-error small form-text invalid-feedback">Please Enter Description</label></div>
</div> 

<div  class="col-md-1">
    <div  class="form-group">
        <label class="form-label">IsHalfDay<br></label>
        <label  class="custom-switch">
            <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input" #IsHalfday="ngModel" required IsHalfday [(ngModel)]="formInput.IsHalfday" id="IsHalfday" name="IsHalfday" value="true">
            <span class="custom-switch-indicator"></span><span class="custom-switch-description"></span></label></div>
</div>                    
                    </div>
                    <div  class="table-responsive ng-star-inserted">
                        <button  id="table2-new-row-button" class="btn btn-primary mb-4" style="border-radius:10px;background-color: #3601b5a3;" (click)="Viewlist();">Back To List</button> &nbsp;
                        <button  id="table2-new-row-button" class="btn btn-primary mb-4" style="border-radius:10px;background-color: #3601b5a3;" (click)="Update();">Update</button>
                        </div>
                </div>
            </div>
        </div>
    </div>   
</div>
<div >
    <div  class="row" *ngIf="View">
        <div  class="col-lg-12">
            <div  class="card">
                <div class="card-header" style="display: flex;justify-content:space-between;" > 
                    <div class="col-md-2">
                        <h3  class="card-title">Holiday Master</h3>
                    </div>    
                    <div class="col-md-3" style="display: flex;justify-content: right;">
                        <button class="btn btn-primary" style="border-radius: 10px;background-color: #3601b5a3;" (click)="exportPDF()">üìï Export PDF</button>&nbsp;
                        <button class="btn btn-primary" style="border-radius: 10px;background-color: #3601b5a3;" (click)="exportexcel()">üìó Export Excel</button>
                    </div>
                </div>
                <div  class="card-body">
                    <!---->
                    <form #validationForm="ngForm" class="editForm" novalidate>
                                                    
                    <div  class="table-responsive">
                        <table  id="DataTables_Table_0" table datatable [dtOptions]="dtExportButtonOptions" [dtTrigger]="dtTrigger"
                        class="table table-striped table-bordered table-hover">
                            <thead >
                                <tr >
                                    <th  style="display:none;">ID</th>
                                    <th >SL No</th>
                                    <th >Title</th>
                                    <th >Description</th>
                                    <th >Branch</th>
                                    <th >Start Date - End Date</th>
                                    <th >IsHalfDay</th>
                                    <th >Created On</th>
                                    <th >Modified On</th>
                                    <th >Edit/Delete</th>
                                </tr>
                            </thead>
                            <tbody >
                                <tr  class="ng-star-inserted" *ngFor="let IL of institutionsList; let i = index;">
                                    <td  style="display:none;"><!---->
                                        <div  class="ng-star-inserted" > {{IL.DesignationID}} </div><!---->
                                    </td>
                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{i+1}} </div><!---->
                                    </td>
                                   
                                    <td ><!---->
                                        <div  class="ng-star-inserted">{{IL.Title}} </div>
                                        <!---->
                                    </td>
                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{IL.Comment}} </div>
                                        <!---->
                                    </td>
                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{IL.BranchName}} </div>
                                        <!---->
                                    </td>
                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{IL.StartDate|date: 'dd-MM-yyyy'}} - {{IL.EndDate|date: 'dd-MM-yyyy'}} </div>
                                        <!---->
                                    </td>
                                    <td ><!---->
                                        <div *ngIf="IL.IsHalfday==true" class="ng-star-inserted"> Yes </div>
                                        <div *ngIf="IL.IsHalfday==false || IL.IsHalfDay==null" class="ng-star-inserted"> No </div>
                                        <!---->
                                    </td>

                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{IL.CreatedDate|date: 'dd-MM-yyyy'}} </div>
                                        <!---->
                                    </td>

                                    <td ><!---->
                                        <div  class="ng-star-inserted"> {{IL.ModifiedDate|date: 'dd-MM-yyyy'}} </div>
                                        <!---->
                                    </td>
                                   
                                    <td ><!----><button  id="bEdit"
                                            type="button" class="btn btn-sm btn-primary ng-star-inserted" style="background-color: #3601b5a3;"><span
                                                
                                                class="fa fa-edit" (click)="edit(IL);"></span></button><!----><!---->
                                                
                                                <button *ngIf="IL.DeleteStatus==true" (click)="DeactiveModule(IL.DesignationID);"
                                             id="bDel" type="button"
                                            class="btn mx-3 btn-sm btn-danger ng-star-inserted"><span 
                                                class="fa fa-trash"></span>
                                            </button><!---->
                                    </td>
                                </tr>
                                <tr *ngIf="!institutionsList">
                                    <td colspan="10" class="text-center text-danger">No Data Available</td>
                                  </tr> 
                            </tbody>
                        </table>                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
        

        <!-- <div  *ngIf="!ViewPermission">
                       
            <div  class="page page-h"><div  class="page-content z-index-10"><div  class="container text-center"><div  class="row"><div  class="col-lg-6 col-xl-6 col-md-6 d-block mx-auto"><div  class="text-black"><div  class="display-1 t mb-5"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></div><h1  class="h2 mb-3">Authorization Error..<i class="fa fa-exclamation" aria-hidden="true"></i></h1><p  class="h4 font-weight-normal mb-7 leading-normal">‚ÄúSorry, You Are Not Allowed to Access This Page‚Äù</p><a  routerlink="/dashboard/sales-dashboard" class="btn btn-primary" style="border-radius: 10px;background-color: #3601b5a3;"> </a></div></div></div></div></div></div>
        </div> -->
        
   
   
   