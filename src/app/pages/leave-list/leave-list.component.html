<div>
    <div class="row">
        <div class="row" *ngIf="ShowList">
            <div class="col-md-12">
                <div class="card">
                    <!-- <div class="card-header" style="display: flex;justify-content: space-between;">
                        <h3 class="card-title">Leave Requests</h3>
                        <button class="btn btn-primary" (click)="ApplyLeave()">Apply Leave</button>
                    </div> -->
                    <div class="col-md-12">
                        <div class="row">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-2">
                                        <label class="form-label">From Date</label>
                                        <input placeholder="Select Date" type="date"
                                        required FromDate [(ngModel)]="formInput.FromDate" class="form-control">
                  
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">To Date</label>
                                        <input placeholder="Select Date" type="date"
                                        required ToDate [(ngModel)]="formInput.ToDate" (change)="dateValidation(formInput.ToDate)" class="form-control">
                  
                                    </div>
                                    <div class="col-md-2" >
                                        <label class="form-label">Select Organization</label>
                                        <ng-multiselect-dropdown [placeholder]="'Select Organization'" [(ngModel)]="selectedListOrganization" [data]="OrgList"
                                            [settings]="orgListSettings" (onSelect)="onselectedListOrg($event)"
                                            (onDeSelect)="onDeselectedListOrg($event)">
                                        </ng-multiselect-dropdown>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Branch</label>
                                        <ng-multiselect-dropdown [placeholder]="'Select Branch'"
                                            [(ngModel)]="selectedBranchId" [data]="Columns"
                                            [settings]="listtypesettings" (onSelect)="onselectedBranchesChange($event)"
                                            (onDeSelect)="onDeselectedBranchesChange($event)">
                                        </ng-multiselect-dropdown>
                                    </div>
                                    <div class="col-md-2">
                                        <label class="form-label">Department</label>  <ng-multiselect-dropdown 
                                        [placeholder]="'All Department'"
                                        [(ngModel)]="selectedDepartmentId"
                                        [data]="DeptColumns"
                                        [settings]="listtypesettings"
                                        (onSelect)="onselectedDepartmentsChange($event)"
                                        (onDeSelect)="onDeselectedDepartmentsChange($event)"
                                        >
                                    </ng-multiselect-dropdown>
                                    </div>
                                    <div class="col-md-1" style="bottom: -35px;">
                                            <button class="btn btn-primary" style="border-radius: 10px;background-color: #3601b5a3;" (click)="Search()">Search</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table id="DataTables_Table_0" table datatable [dtOptions]="dtExportButtonOptions"
                                [dtTrigger]="dtTrigger" class="table table-striped table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 50px;">SLNo</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;">Employee Id</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;">Employee</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;">From Date</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;">To Date</th><th style="background-color: #3601b51f;text-align: center;max-width: 120px;">Leave Type</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 100px;">Days</th>
                                        <!-- <th>DateRange</th> -->
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;min-width: 150px;">Reason</th>
                                        <!-- <th>Approved Days</th>
                                        <th>Approved Leave Type</th> -->
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 150px;">Status</th>
                                        <th style="background-color: #3601b51f;text-align: center;max-width: 200px;min-width: 200px;">Comment</th>
                                      
                                        <!-- <th>Comment</th>
                                        <th>Approved On</th> -->
                                        <th style="background-color: #3601b51f;text-align: center;min-width: 100px;max-width: 100px;">Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="ng-star-inserted" *ngFor="let IL of LeaveList; let i = index;">
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;"> {{i+1}} </div>
                                        </td>
                                        <td>
                                            <div class="ng-star-inserted">{{IL.MappedEmpId}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted">{{IL.EmployeeName}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;">
                                                {{IL.FromDateTime|date: 'dd-MM-yyyy'}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;">
                                                {{IL.ToDateTime|date: 'dd-MM-yyyy'}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;"> {{IL.LeaveType}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;" *ngIf="IL.NoOfDays==0 && IL.IsHalfDay==true">Half Day </div>
                                            <div class="ng-star-inserted" style="text-align: center;" *ngIf="IL.NoOfDays!=0"> {{IL.NoOfDays}} </div>

                                        </td>
                                        <!-- <td>
                                            <div class="ng-star-inserted">{{IL.FromDateTime|date: 'dd-MM-yyyy'}} To
                                                {{IL.ToDateTime|date: 'dd-MM-yyyy'}} </div>

                                        </td> -->
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;"> {{IL.ReasonForLeave}} </div>

                                        </td>
                                        <!-- <td>
                                            <div class="ng-star-inserted"> {{IL.ApprovedDays}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted"> {{IL.ApprovedLeaveType}} </div>

                                        </td> -->
                                        <td>
                                            <div class="ng-star-inserted" style="text-align: center;"> {{IL.ApproveStatus}} </div>

                                        </td>
                                        <!-- <td>
                                            <div class="ng-star-inserted"> {{IL.AdminComment}} </div>

                                        </td>
                                        <td>
                                            <div class="ng-star-inserted"> {{IL.ApprovedDate|date: 'dd-MM-yyyy'}} </div>

                                        </td> -->

                                        <td>

                                            <textarea style="background-color: white;height: 50px;"  type="text" name="example-text-input" class="form-control" id="AdminComment" name="AdminComment" 
                                            placeholder="AdminComment" #AdminComment="ngModel" [(ngModel)]="IL.AdminComment"> </textarea>
                                             
                                        </td>

                                        <td style="text-align: center;">

                                            <button id="bEdit" type="button"
                                            class="btn btn-sm btn-primary mx-3 ng-star-inserted" matTooltip="View Leave Details" style="background-color: #3601b5a3;"><span class="fa fa-eye"
                                                (click)="openDialog(IL);"></span></button>

                                                <!-- <button class="btn btn-primary" style="background-color: #3601b5a3;padding: 2px;"  id="bEdit" matTooltip="Approve Leave"
                                                    type="button"><span class="fa fa-check-circle-o"
                                                        (click)="Approve(IL);"></span></button> &nbsp; -->
                                                        <button id="bEdit" type="button"
                                                        class="btn btn-sm btn-danger ng-star-inserted" matTooltip="Reject Leave" style="background-color: #3601b5a3;"><span class="fa fa-trash"
                                                            (click)="Reject(IL);"></span></button>


                                       
                                           

                                        </td>
                                    
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="!ShowList">
            <div  class="row">
                <div  class="col-md-12">
                    <div  class="card">
                        <!-- <div  class="card-header" style="justify-content: left;">
                            <h3  class="mb-0 card-title"><i class="fa fa-arrow-left" (click)="back()"></i>&nbsp;Apply Leave</h3>
                        </div> -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-3" >
                                    <label class="form-label">Select Organization</label>
                                    <ng-multiselect-dropdown [placeholder]="'All Organizations'" [(ngModel)]="selectedOrganization" [data]="ApplyOrgList"
                                        [settings]="orgSettings" (onSelect)="onselectedOrg($event)"
                                        (onDeSelect)="onDeselectedOrg($event)">
                                    </ng-multiselect-dropdown>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Select Branch </label>
                                    <ng-multiselect-dropdown [placeholder]="'Select Branch'" [data]="ApplyBranchList"
                                        [(ngModel)]="selectedBranch" (onSelect)="onBranchSelect($event)"
                                        (onDeSelect)="onBranchDeSelect($event)" [settings]="branchSettings">
                                    </ng-multiselect-dropdown>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Select Department</label>
                                    <ng-multiselect-dropdown [placeholder]="'All Department'" [data]="ApplyDepartmentList"
                                        [(ngModel)]="selectedDepartment" (onSelect)="onDeptSelect($event)" (onSelectAll)="onDeptDeSelectAll()" (onDeSelectAll)="onDeptDeSelectAll()"
                                        (onDeSelect)="onDeptDeSelect($event)" [settings]="departmentSettings">
                                    </ng-multiselect-dropdown>
                                </div>
                                <div class="col-md-3">
                                    <label class="form-label">Select Employees</label>
                                    <ng-multiselect-dropdown [placeholder]="'Select Employees'" [data]="EmployeeList"
                                        [(ngModel)]="selectedEmployees" (onSelect)="OnEmployeesChange($event)"
                                        (onDeSelect)="OnEmployeesChangeDeSelect($event)" [settings]="employeeSettings">
                                    </ng-multiselect-dropdown>
                                </div>
                                <div  class="col-md-3">
                                    <div  class="form-group"><label 
                                        class="form-label">Select LeaveType</label>
                             <ng-multiselect-dropdown [placeholder]="'Select Leave'" [data]="LeaveTypes" [(ngModel)]="selectedLeaveIds" (onSelect)="onleaveSelect($event)"
                             (onDeSelect)="onleaveDeSelect($event)" [settings]="leaveSettings">
                           </ng-multiselect-dropdown>
                                </div></div>
                                <div  class="col-md-3">
                                    <div  class="form-group"><label 
                                        class="form-label">Date</label>
                                        <input name="example-password-input" placeholder="Select Date" type="date" (change)="CheckDate(SelectDate)"
                                        [(ngModel)]="SelectDate" class="form-control">
                                    </div>
                            </div>
                      
                        <div class="col-md-3" *ngIf="ShowDay">
                            <div  class="form-group"><label 
                                class="form-label">Number of Days</label><input 
                                name="example-password-input" placeholder="Number Of Days" type="number" (keypress)="validatedays($event)"
                                 [(ngModel)]="NoOfDays" class="form-control"></div>
                        </div>
                        <div  class="col-md-1">
                            <div  class="form-group">
                                <label class="form-label">IsHalfDay<br></label>
                                <label  class="custom-switch">
                                    <input type="checkbox" name="custom-switch-checkbox" class="custom-switch-input" [(ngModel)]="isHalfDay" (click)="ShowDays();" id="isHalfDay" name="isHalfDay" value="true">
                                    <span class="custom-switch-indicator"></span><span class="custom-switch-description"></span></label></div>
                    </div>
                        <div class="col-md-4">
                            <div  class="form-group"><label 
                                class="form-label">Reason For Leave</label><textarea
                                name="example-password-input" placeholder="Please Specify the Reason Here.." type="text"
                                 required onkeydown="return /^[a-zA-Z][a-zA-Z0-9\s]*$/.test(this.value + event.key)" [(ngModel)]="Comment" class="form-control"></textarea></div>
                        </div>
                      
                    <div  class="col-md-1">
                        <div  class="form-group">
                            <label class="form-label">.</label>
                            <button  id="table2-new-row-button" class="btn btn-primary mb-4" style="border-radius:10px;background-color: #3601b5a3;" (click)="CreateRequest();">Submit</button>
                              
                            </div>
                            </div>
        
                         
                                          
                            </div>
                         </div>
                    </div>
                 </div>
            </div>
        </div>   
    </div>
</div>